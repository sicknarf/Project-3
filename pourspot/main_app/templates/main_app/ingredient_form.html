{% extends 'base.html' %}

{% block content %}
    {% if object %}
        <h1>Edit <span class="teal-text"> {{ object.name }}</span></h1>
    {% else %}    
        <h1>Add Ingredient</h1>
    {% endif %}
    <form action="" method="post">
        {% csrf_token %}
        <table>
            {{ form.as_table }}
        </table>
        <input type="submit" value="Submit!" class="btn amber darken-4">
    </form>
    
    {% if object %}
    {% else %}
    {% if ingredients.count %}
    <h1>Ingredients Available:</h1>
    <div class="row">
    {% for ingredient in ingredients %}
        <div class="col s2">
            <div class="card">
                <div class="card-content">
            <a href="{% url 'ingredient_detail' ingredient.id %}" class="collection-item black-text">
                {{ ingredient.name }}</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
 
      <h5>No Ingredients :(</h5>
    {% endif %}
    {% endif %}


    <script>
        const typeSelect = document.getElementById('id_type');
        M.FormSelect.init(typeSelect);
    </script>

{% endblock %}